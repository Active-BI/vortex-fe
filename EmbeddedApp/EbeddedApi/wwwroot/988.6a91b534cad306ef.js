"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[988],{5652:(L,c,o)=>{o.r(c),o.d(c,{AuthSignInModule:()=>M});var l=o(2510),p=o(4859),I=o(6709),m=o(9549),d=o(7392),g=o(4144),f=o(1572),x=o(6236),A=o(7775),Z=o(4466),s=o(4006),y=o(3844),t=o(4650),h=o(529),S=o(2340);let w=(()=>{class e{constructor(n){this.http=n,this.baseUrl=S.N.baseUrl,this.resource="auth",this.headers=new h.WM({"Content-Type":"application/json"})}Login({email:n,password:r}){return this.http.put(`${this.baseUrl}${this.resource}`,{email:n,password:r})}Register({email:n,password:r,captchaResponse:a}){return this.http.post(`${this.baseUrl}${this.resource}`,{email:n,password:r,captchaResponse:a})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=o(5742),U=o(2494),T=o(6895);function b(e,i){if(1&e&&(t.TgZ(0,"fuse-alert",22),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function J(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo obrigat\xf3rio "),t.qZA())}function N(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Campo obrigat\xf3rio "),t.qZA())}function Q(e,i){1&e&&t._UZ(0,"mat-icon",23),2&e&&t.Q6J("svgIcon","heroicons_solid:eye")}function F(e,i){1&e&&t._UZ(0,"mat-icon",23),2&e&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function Y(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Entrar "),t.qZA())}function j(e,i){1&e&&t._UZ(0,"mat-progress-spinner",24),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}const z=function(){return["/auth/sign-up"]},E=[{path:"",data:{expectedRoles:["User","ADMIN"]},component:(()=>{class e{constructor(n,r,a){this.router=n,this.userService=r,this.authService=a,this.error="",this.showAlert=!1,this.showSpinner=!1,this.email=new s.NI("",[s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),this.password=new s.NI("",[s.kI.minLength(6)])}ngAfterViewInit(){this.authService.isLoggedIn()&&this.router.navigateByUrl("app/inicio")}ngOnInit(){}redirect(){this.router.navigateByUrl("app/inicio")}register(){this.router.navigateByUrl("/register")}login(){this.userService.Login({email:this.email.value,password:this.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this.redirect()},r=>{this.error=r.error.message})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F0),t.Y36(w),t.Y36(C.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-in"]],decls:36,vars:13,consts:[["id","main-bg",1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0"],[1,"flex","items-center","justify-center","md:justify-end","w-full","h-full","bg-cover","bg-[url(assets/images/powerBi.jpg)]","bg-no-repeat","bg-right","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","md:rounded-none","sm:shadow","md:shadow-none"],[1,"w-full","max-w-100","sm:w-100","mx-auto","sm:mx-0","bg-white","rounded-md","p-12"],[1,""],[1,"mt-2","text-4xl","text-primary","font-extrabold","tracking-tight","leading-tight"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8"],["signInNgForm","ngForm"],[1,"w-full"],["id","email","matInput","",3,"formControl"],[4,"ngIf"],["id","password","matInput","","type","password",3,"formControl"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","rounded-sm",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"flex","md:flex","md:items-center","items-baseline","mt-1","font-small"],[1,"ml-1","text-primary","hover:underline",3,"routerLink"],[1,"relative","hidden","md:flex","flex-auto","items-center","justify-center","w-1/3","h-full","p-16","lg:px-28","overflow-hidden","bg-white","bg-[url(assets/images/active_logo.png)]","bg-no-repeat","bg-center",2,"background-size","center center","background-size","50%"],[1,"z-10","relative","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-white"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(n,r){if(1&n){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._uU(5,"Entrar"),t.qZA(),t.YNc(6,b,2,5,"fuse-alert",5),t.TgZ(7,"form",6,7)(9,"mat-form-field",8)(10,"mat-label"),t._uU(11,"E-mail"),t.qZA(),t._UZ(12,"input",9),t.YNc(13,J,2,0,"mat-error",10),t.YNc(14,N,2,0,"mat-error",10),t.qZA(),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"Senha"),t.qZA(),t._UZ(18,"input",11,12),t.TgZ(20,"button",13),t.NdJ("click",function(){t.CHM(a);const u=t.MAs(19);return t.KtG(u.type="password"===u.type?"text":"password")}),t.YNc(21,Q,1,1,"mat-icon",14),t.YNc(22,F,1,1,"mat-icon",14),t.qZA(),t.TgZ(23,"mat-error"),t._uU(24," Campo obrigat\xf3rio "),t.qZA()(),t.TgZ(25,"button",15),t.NdJ("click",function(){return r.login()}),t.YNc(26,Y,2,0,"span",10),t.YNc(27,j,1,2,"mat-progress-spinner",16),t.qZA(),t.TgZ(28,"div",17)(29,"div"),t._uU(30,"N\xe3o tem uma conta?"),t.qZA(),t.TgZ(31,"a",18),t._uU(32,"Cadastra-se "),t.qZA()()()()(),t.TgZ(33,"div",19)(34,"div",20),t._UZ(35,"div",21),t.qZA()()()}if(2&n){const a=t.MAs(19);t.xp6(6),t.Q6J("ngIf",r.showAlert),t.xp6(6),t.Q6J("formControl",r.email),t.xp6(1),t.Q6J("ngIf",r.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",r.email.hasError("email")),t.xp6(4),t.Q6J("formControl",r.password),t.xp6(3),t.Q6J("ngIf","password"===a.type),t.xp6(1),t.Q6J("ngIf","text"===a.type),t.xp6(3),t.Q6J("color","primary")("disabled",r.email.hasError("")||r.password.hasError("")),t.xp6(1),t.Q6J("ngIf",!0),t.xp6(1),t.Q6J("ngIf",r.showSpinner),t.xp6(4),t.Q6J("routerLink",t.DdM(12,z))}},dependencies:[l.yS,p.lW,m.TO,m.KE,m.hX,m.R9,d.Hw,g.Nt,f.Ou,U.W,T.O5,s._Y,s.Fj,s.JJ,s.JL,s.F,s.oH],encapsulation:2,data:{animation:y.L}}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(E),p.ot,I.p9,m.lN,d.Ps,g.c,f.Cq,x.J,A.fC,Z.m]}),e})()}}]);