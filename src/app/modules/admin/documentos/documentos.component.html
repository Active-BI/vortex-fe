<div class="w-full flex flex-row justify-start items-start">
    <div class="flex flex-col m-10 mt-8 w-full bg-white rounded-b-xl p-5 shadow-2xl">
        <div class=" w-full flex flex-col">
            <div class="w-full flex items-center   text-white" *ngIf="canUploadOrDeleteFiles">
                <button type="button" class="w-40 h-auto p-2 bg-[#0069b1] hover:bg-[#00a8e4] rounded-md"
                    (click)="fileInput.click()">Selecione o arquivo</button>
                <input hidden (change)="onFileSelected($event)" #fileInput type="file" multiple>
            </div>

            <table mat-table [dataSource]="dataSource" class="w-full  mat-table-thin">
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Nome </th>
                    <td mat-cell *matCellDef="let row"> {{ row.name }} </td>
                </ng-container>
                <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef> Data de Envio </th>
                    <td mat-cell *matCellDef="let row"> {{ row.created_at | date: 'shortDate'}} </td>
                </ng-container>

                <ng-container matColumnDef="updated_by">
                    <th mat-header-cell *matHeaderCellDef> Propriet√°rio </th>
                    <td mat-cell *matCellDef="let row"> {{ row.updated_by }} </td>
                </ng-container>
                <ng-container matColumnDef="opt">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row">
                        <div class="w-full flex justify-end">
                            <button class="text-violet-900" matTooltip='Baixar' *ngIf="row.id"
                                (click)="downloadFile(row)">
                                <mat-icon class="cursor-pointer mr-5 text-[#0069b1]" svgIcon="download"></mat-icon>
                            </button>
                            <davita-trash-btn  [row]="row" name="Arquivo"  *ngIf="canUploadOrDeleteFiles"
                                (delete)="row.id ? deleteCommitedFile(row.id) : deleteFromFormData(row.name)"></davita-trash-btn>
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="  displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns:   displayedColumns;">
                </tr>

                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="10">Sem Arquivos</td>
                </tr>

            </table>
        </div>
    </div>
</div>